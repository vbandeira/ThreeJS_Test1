<!DOCTYPE html>
<html>
	<head>
		<title>My first Three.js app</title>
		<style>canvas { width: 100%; height: 100%; margin: 0; padding: 0 }</style>
	</head>
	<body style="margin:0; padding:0">
		<script src="js/three.min.js"></script>
        <script src="js/BinaryLoader.js"></script>
        
		<script>
			// Our Javascript will go here.
            
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000);
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            
            var geometry = new THREE.BoxGeometry( 1, 1, 1);
            //var material = new THREE.MeshBasicMaterial( {color: 0xffffff} );
            var material = new THREE.MeshPhongMaterial( {color: 0xff0000} );
            //var cube = new THREE.Mesh( geometry, material );
            //scene.add(cube);
            
            var loader = new THREE.BinaryLoader( true );
            var car;
            
            var callback = function(geometry) {
                //alert('hey');
                car = new THREE.Mesh(geometry, material);
                scene.add(car);
                //loader.statusDomElement.style.display = "none";
                //alert('hey1');    
            };
            
            loader.load("model/f1/f1.js", callback);
            
            alert(car);
            
            scene.add(new THREE.AmbientLight( 0x000000 ) );
            
            var light = new THREE.PointLight( 0xffff00, 1, 0);
            light.position.set( 3, 3, 3 );
            scene.add(light);
            
            
            /*
            var light = new THREE.DirectionalLight( 0xffff00, 1);
            light.position.set( 2, 2, 2 );
            scene.add(light);
            */
            
            camera.position.z = 5;
            
            function render() {
                requestAnimationFrame(render);
                //car.rotation.x += 0.01;
                //cube.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            render();
            
            window.onresize = function() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            
            }
            
		</script>
	</body>
</html>